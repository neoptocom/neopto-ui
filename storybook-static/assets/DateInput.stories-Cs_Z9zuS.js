import{j as a}from"./jsx-runtime-CDt2p4po.js";import{r as o}from"./index-GiUgBvb1.js";import{I as xe}from"./Input-CVElIIlf.js";import{T as H}from"./Typo-B4y6jpMu.js";import{C as ve,b as ye,a as be}from"./Card-eYBJXArD.js";import"./Icon-DucDLcRo.js";const Se=["Dom","Seg","Ter","Qua","Qui","Sex","SÃ¡b"],we=["Jan","Fev","Mar","Abr","Mai","Jun","Jul","Ago","Set","Out","Nov","Dez"];function J(t,e){return t.getDate()===e.getDate()&&t.getMonth()===e.getMonth()&&t.getFullYear()===e.getFullYear()}function Ne(t,e){return t.getMonth()===e.getMonth()&&t.getFullYear()===e.getFullYear()}function D(t){const e=new Date(t);return e.setHours(0,0,0,0),e}function E({selectedDate:t,onDateSelect:e,today:n=new Date,minDate:d,maxDate:l}){const[r,w]=o.useState(t||new Date),h=D(n),N=t?D(t):null,R=new Date(r.getFullYear(),r.getMonth(),1),Y=new Date(r.getFullYear(),r.getMonth()+1,0).getDate(),L=R.getDay(),p=()=>{w(new Date(r.getFullYear(),r.getMonth()-1,1))},f=()=>{w(new Date(r.getFullYear(),r.getMonth()+1,1))},U=s=>{const g=new Date(r.getFullYear(),r.getMonth(),s),m=D(g);d&&m<D(d)||l&&m>D(l)||e(g)},C=s=>{const g=new Date(r.getFullYear(),r.getMonth(),s),m=D(g);return!!(d&&m<D(d)||l&&m>D(l))},x=[];for(let s=0;s<L;s++)x.push(null);for(let s=1;s<=Y;s++)x.push(s);return a.jsxs("div",{className:"w-full",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(H,{variant:"title-md",className:"text-[var(--fg)]",children:we[r.getMonth()]}),a.jsx(H,{variant:"title-md",bold:"medium",className:"text-cyan-500",children:r.getFullYear()})]}),a.jsxs("div",{children:[a.jsx("button",{type:"button",onClick:p,className:"p-2 rounded-full hover:bg-[var(--muted)] transition-colors","aria-label":"Previous month",children:a.jsx("span",{className:"material-symbols-rounded text-[var(--fg)]",children:"chevron_left"})}),a.jsx("button",{type:"button",onClick:f,className:"p-2 rounded-full hover:bg-[var(--muted)] transition-colors","aria-label":"Next month",children:a.jsx("span",{className:"material-symbols-rounded text-[var(--fg)]",children:"chevron_right"})})]})]}),a.jsx("div",{className:"grid grid-cols-7 gap-1 mb-2",children:Se.map(s=>a.jsx("div",{className:"text-xs text-center text-[var(--muted-fg)] font-medium py-1",children:s},s))}),a.jsx("div",{className:"grid grid-cols-7 gap-1",children:x.map((s,g)=>{if(s===null)return a.jsx("div",{className:"aspect-square"},`empty-${g}`);const m=new Date(r.getFullYear(),r.getMonth(),s),v=D(m),W=N&&J(v,N),O=J(v,h),I=C(s),$=Ne(v,r);return a.jsx("button",{type:"button",onClick:()=>U(s),disabled:I,className:["aspect-square rounded-lg text-sm transition-colors",W?"bg-[var(--color-brand)] text-white font-medium":O?"bg-[var(--muted)] text-[var(--fg)] font-medium border border-[var(--color-brand)]":"text-[var(--fg)] hover:bg-[var(--muted)]",I?"opacity-30 cursor-not-allowed":"cursor-pointer",$?"":"opacity-50"].filter(Boolean).join(" "),children:s},s)})})]})}E.__docgenInfo={description:"",methods:[],displayName:"Calendar",props:{selectedDate:{required:!1,tsType:{name:"Date"},description:"Currently selected date"},onDateSelect:{required:!0,tsType:{name:"signature",type:"function",raw:"(date: Date) => void",signature:{arguments:[{type:{name:"Date"},name:"date"}],return:{name:"void"}}},description:"Callback when a date is selected"},today:{required:!1,tsType:{name:"Date"},description:"Today's date (for highlighting)",defaultValue:{value:"new Date()",computed:!1}},minDate:{required:!1,tsType:{name:"Date"},description:"Minimum selectable date"},maxDate:{required:!1,tsType:{name:"Date"},description:"Maximum selectable date"}}};try{E.displayName="Calendar",E.__docgenInfo={description:"",displayName:"Calendar",props:{selectedDate:{defaultValue:null,description:"Currently selected date",name:"selectedDate",required:!1,type:{name:"Date"}},onDateSelect:{defaultValue:null,description:"Callback when a date is selected",name:"onDateSelect",required:!0,type:{name:"(date: Date) => void"}},today:{defaultValue:{value:"new Date()"},description:"Today's date (for highlighting)",name:"today",required:!1,type:{name:"Date"}},minDate:{defaultValue:null,description:"Minimum selectable date",name:"minDate",required:!1,type:{name:"Date"}},maxDate:{defaultValue:null,description:"Maximum selectable date",name:"maxDate",required:!1,type:{name:"Date"}}}}}catch{}function S(t){const e=String(t.getDate()).padStart(2,"0"),n=String(t.getMonth()+1).padStart(2,"0"),d=t.getFullYear();return`${e}/${n}/${d}`}function y(t){const e=t.split("/");if(e.length!==3)return null;const n=parseInt(e[0],10),d=parseInt(e[1],10)-1,l=parseInt(e[2],10);if(isNaN(n)||isNaN(d)||isNaN(l))return null;const r=new Date(l,d,n);return r.getDate()!==n||r.getMonth()!==d||r.getFullYear()!==l?null:r}function b(t){return t instanceof Date&&!isNaN(t.getTime())}function Ce(t){const e=new Date(t);return e.setHours(0,0,0,0),e}const c=o.forwardRef(({label:t,value:e,onChange:n,error:d=!1,disabled:l=!1,minDate:r,maxDate:w,placeholder:h="00/00/0000",className:N="",lightBackgroundImage:R,darkBackgroundImage:A,...Y},L)=>{const[p,f]=o.useState(e&&b(e)?S(e):h),[U,C]=o.useState(!1),[x,s]=o.useState(!1),[g,m]=o.useState(!0),v=o.useRef(null);o.useEffect(()=>{e&&b(e)?f(S(e)):f(h)},[e,h]),o.useEffect(()=>{if(x&&g){const u=new Date;n(u),f(S(u)),m(!1)}},[x,g,n]),o.useEffect(()=>{const u=i=>{v.current&&!v.current.contains(i.target)&&(s(!1),m(!1))};return document.addEventListener("mousedown",u),()=>document.removeEventListener("mousedown",u)},[]);const W=u=>{let i=u.target.value;if(i=i.replace(/\D/g,"").replace(/^(\d{2})/,"$1/").replace(/^(\d{2}\/\d{2})/,"$1/").slice(0,10),f(i),i.length===10){const j=y(i);j&&b(j)&&n(j)}},O=u=>{const i=y(p);i&&b(i)&&i.getDate()===u.getDate()&&i.getMonth()===u.getMonth()&&i.getFullYear()===u.getFullYear()||(n(u),f(S(u))),m(!1),s(!1)},I=()=>{C(!0),s(!0)},$=()=>{C(!1);const u=y(p);if(!u||!b(u)){const i=new Date;n(i),f(S(i))}},he=p===h?"text-[var(--muted-fg)]":"";return a.jsxs("div",{className:["relative w-full",N].join(" "),ref:v,children:[a.jsx(xe,{ref:L,label:t,type:"text",value:p,onChange:W,onFocus:I,onBlur:$,onClick:()=>!l&&s(!0),disabled:l,error:d,icon:"calendar_today",className:he,...Y}),x&&!l&&a.jsx("div",{className:"absolute z-20 mt-2 w-full max-w-sm",children:a.jsx(ve,{className:"p-4",showDecorations:!1,variant:"app-background",lightImage:R,darkImage:A,children:a.jsx(E,{selectedDate:p!==h&&y(p)&&b(y(p))?y(p):new Date,onDateSelect:O,today:Ce(new Date),minDate:r,maxDate:w})})})]})});c.displayName="DateInput";c.__docgenInfo={description:"",methods:[],displayName:"DateInput",props:{label:{required:!1,tsType:{name:"string"},description:"Label text displayed above the input"},value:{required:!1,tsType:{name:"union",raw:"Date | null",elements:[{name:"Date"},{name:"null"}]},description:"Current date value"},onChange:{required:!0,tsType:{name:"signature",type:"function",raw:"(date: Date) => void",signature:{arguments:[{type:{name:"Date"},name:"date"}],return:{name:"void"}}},description:"Callback when date changes"},error:{required:!1,tsType:{name:"boolean"},description:"Flag to visually mark the input as errored",defaultValue:{value:"false",computed:!1}},minDate:{required:!1,tsType:{name:"Date"},description:"Minimum selectable date"},maxDate:{required:!1,tsType:{name:"Date"},description:"Maximum selectable date"},placeholder:{required:!1,tsType:{name:"string"},description:'Placeholder text (default: "00/00/0000")',defaultValue:{value:'"00/00/0000"',computed:!1}},lightBackgroundImage:{required:!1,tsType:{name:"string"},description:"Background image URL for light mode"},darkBackgroundImage:{required:!1,tsType:{name:"string"},description:"Background image URL for dark mode"},disabled:{defaultValue:{value:"false",computed:!1},required:!1},className:{defaultValue:{value:'""',computed:!1},required:!1}}};try{c.displayName="DateInput",c.__docgenInfo={description:"",displayName:"DateInput",props:{label:{defaultValue:null,description:"Label text displayed above the input",name:"label",required:!1,type:{name:"string"}},value:{defaultValue:null,description:"Current date value",name:"value",required:!1,type:{name:"Date | null"}},onChange:{defaultValue:null,description:"Callback when date changes",name:"onChange",required:!0,type:{name:"(date: Date) => void"}},error:{defaultValue:{value:!1},description:"Flag to visually mark the input as errored",name:"error",required:!1,type:{name:"boolean"}},minDate:{defaultValue:null,description:"Minimum selectable date",name:"minDate",required:!1,type:{name:"Date"}},maxDate:{defaultValue:null,description:"Maximum selectable date",name:"maxDate",required:!1,type:{name:"Date"}},lightBackgroundImage:{defaultValue:null,description:"Background image URL for light mode",name:"lightBackgroundImage",required:!1,type:{name:"string"}},darkBackgroundImage:{defaultValue:null,description:"Background image URL for dark mode",name:"darkBackgroundImage",required:!1,type:{name:"string"}}}}}catch{}const Ve={title:"Components/DateInput",component:c},k={render:()=>{const[t,e]=o.useState(null);return a.jsx("div",{className:"flex flex-col gap-4 w-96",children:a.jsx(c,{label:"Select date",value:t,onChange:n=>e(n)})})}},M={render:()=>{const[t,e]=o.useState(new Date);return a.jsx("div",{className:"flex flex-col gap-4 w-96",children:a.jsx(c,{label:"Date",value:t,onChange:n=>e(n)})})}},q={render:()=>{const[t,e]=o.useState(null);return a.jsx("div",{className:"flex flex-col gap-4 w-96",children:a.jsx(c,{value:t,onChange:n=>e(n)})})}},_={render:()=>{const[t,e]=o.useState(new Date);return a.jsx("div",{className:"flex flex-col gap-4 w-96",children:a.jsx(c,{label:"Disabled date",value:t,onChange:n=>e(n),disabled:!0})})}},F={render:()=>{const[t,e]=o.useState(null);return a.jsx("div",{className:"flex flex-col gap-4 w-96",children:a.jsx(c,{label:"Date",value:t,onChange:n=>e(n),error:!0})})}},V={render:()=>{const[t,e]=o.useState(null),n=new Date,d=new Date(n);d.setDate(n.getDate()-7);const l=new Date(n);return l.setDate(n.getDate()+30),a.jsxs("div",{className:"flex flex-col gap-4 w-96",children:[a.jsx(c,{label:"Select date (within range)",value:t,onChange:r=>e(r),minDate:d,maxDate:l}),a.jsxs("p",{className:"text-xs text-[var(--muted-fg)]",children:["Available range: ",d.toLocaleDateString()," to ",l.toLocaleDateString()]})]})}},T={render:()=>{const[t,e]=o.useState(null),[n,d]=o.useState(null);return a.jsxs("div",{className:"flex flex-col gap-4 w-96",children:[a.jsx(c,{label:"Start date",value:t,onChange:l=>e(l)}),a.jsx(c,{label:"End date",value:n,onChange:l=>d(l),minDate:t||void 0})]})}},B={render:()=>{const[t,e]=o.useState(null);return a.jsxs("div",{className:"flex flex-col gap-4 w-96",children:[a.jsx(c,{label:"Select date",value:t,onChange:n=>e(n),lightBackgroundImage:be,darkBackgroundImage:ye}),a.jsx("p",{className:"text-xs text-[var(--muted-fg)]",children:"Calendar popup uses background images that adapt to light/dark mode."})]})}};var z,P,Q;k.parameters={...k.parameters,docs:{...(z=k.parameters)==null?void 0:z.docs,source:{originalSource:`{
  render: () => {
    const [date, setDate] = React.useState<Date | null>(null);
    return <div className="flex flex-col gap-4 w-96">
        <DateInput label="Select date" value={date} onChange={d => setDate(d)} />
      </div>;
  }
}`,...(Q=(P=k.parameters)==null?void 0:P.docs)==null?void 0:Q.source}}};var K,G,X;M.parameters={...M.parameters,docs:{...(K=M.parameters)==null?void 0:K.docs,source:{originalSource:`{
  render: () => {
    const [date, setDate] = React.useState<Date | null>(new Date());
    return <div className="flex flex-col gap-4 w-96">
        <DateInput label="Date" value={date} onChange={d => setDate(d)} />
      </div>;
  }
}`,...(X=(G=M.parameters)==null?void 0:G.docs)==null?void 0:X.source}}};var Z,ee,te;q.parameters={...q.parameters,docs:{...(Z=q.parameters)==null?void 0:Z.docs,source:{originalSource:`{
  render: () => {
    const [date, setDate] = React.useState<Date | null>(null);
    return <div className="flex flex-col gap-4 w-96">
        <DateInput value={date} onChange={d => setDate(d)} />
      </div>;
  }
}`,...(te=(ee=q.parameters)==null?void 0:ee.docs)==null?void 0:te.source}}};var ae,ne,re;_.parameters={..._.parameters,docs:{...(ae=_.parameters)==null?void 0:ae.docs,source:{originalSource:`{
  render: () => {
    const [date, setDate] = React.useState<Date | null>(new Date());
    return <div className="flex flex-col gap-4 w-96">
        <DateInput label="Disabled date" value={date} onChange={d => setDate(d)} disabled />
      </div>;
  }
}`,...(re=(ne=_.parameters)==null?void 0:ne.docs)==null?void 0:re.source}}};var se,le,oe;F.parameters={...F.parameters,docs:{...(se=F.parameters)==null?void 0:se.docs,source:{originalSource:`{
  render: () => {
    const [date, setDate] = React.useState<Date | null>(null);
    return <div className="flex flex-col gap-4 w-96">
        <DateInput label="Date" value={date} onChange={d => setDate(d)} error />
      </div>;
  }
}`,...(oe=(le=F.parameters)==null?void 0:le.docs)==null?void 0:oe.source}}};var de,ue,ie;V.parameters={...V.parameters,docs:{...(de=V.parameters)==null?void 0:de.docs,source:{originalSource:`{
  render: () => {
    const [date, setDate] = React.useState<Date | null>(null);
    const today = new Date();
    const minDate = new Date(today);
    minDate.setDate(today.getDate() - 7); // 7 days ago
    const maxDate = new Date(today);
    maxDate.setDate(today.getDate() + 30); // 30 days from now

    return <div className="flex flex-col gap-4 w-96">
        <DateInput label="Select date (within range)" value={date} onChange={d => setDate(d)} minDate={minDate} maxDate={maxDate} />
        <p className="text-xs text-[var(--muted-fg)]">
          Available range: {minDate.toLocaleDateString()} to {maxDate.toLocaleDateString()}
        </p>
      </div>;
  }
}`,...(ie=(ue=V.parameters)==null?void 0:ue.docs)==null?void 0:ie.source}}};var ce,me,pe;T.parameters={...T.parameters,docs:{...(ce=T.parameters)==null?void 0:ce.docs,source:{originalSource:`{
  render: () => {
    const [startDate, setStartDate] = React.useState<Date | null>(null);
    const [endDate, setEndDate] = React.useState<Date | null>(null);
    return <div className="flex flex-col gap-4 w-96">
        <DateInput label="Start date" value={startDate} onChange={d => setStartDate(d)} />
        <DateInput label="End date" value={endDate} onChange={d => setEndDate(d)} minDate={startDate || undefined} />
      </div>;
  }
}`,...(pe=(me=T.parameters)==null?void 0:me.docs)==null?void 0:pe.source}}};var ge,De,fe;B.parameters={...B.parameters,docs:{...(ge=B.parameters)==null?void 0:ge.docs,source:{originalSource:`{
  render: () => {
    const [date, setDate] = React.useState<Date | null>(null);
    return <div className="flex flex-col gap-4 w-96">
        <DateInput label="Select date" value={date} onChange={d => setDate(d)} lightBackgroundImage={assets.bgLight} darkBackgroundImage={assets.bgDark} />
        <p className="text-xs text-[var(--muted-fg)]">
          Calendar popup uses background images that adapt to light/dark mode.
        </p>
      </div>;
  }
}`,...(fe=(De=B.parameters)==null?void 0:De.docs)==null?void 0:fe.source}}};const Te=["Default","WithInitialValue","WithoutLabel","Disabled","WithError","WithMinMax","Multiple","WithBackgroundImages"];export{k as Default,_ as Disabled,T as Multiple,B as WithBackgroundImages,F as WithError,M as WithInitialValue,V as WithMinMax,q as WithoutLabel,Te as __namedExportsOrder,Ve as default};
